<div data-backdrop="static" data-keyboard="false" class="modal fade mainModal alertModal"
     id="editSettledInvoicePayment"
     tabindex="-1" role="dialog"
     aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modalHeader">
                <h2 class="modalTitle">ویرایش نوع پرداخت</h2>
                <a ng-click="close_modal('editSettledInvoicePayment', 'viewSettledInvoiceModal')"
                   class="mainButton redButton" data-dismiss="modal" href=""
                   aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i>  خروج</span>
                </a>
                <a href="" ng-click="edit_settled_invoice_payment()" class="mainButton greenButton"><i
                        class="fas fa-save"></i> ویرایش</a>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <main class="col-sm-12">
                            <form>
                                <label class="lefty iconic">نقد<i class="fas fa-money-bill-alt"></i></label>
                                <label class="righty iconic"><i class="fas fa-credit-card"></i>کارت‌خوان</label>
                                <input type="range" class="form-control-range"
                                       min="0"
                                       max="{{ show_invoice_data.cash_amount + show_invoice_data.pos_amount }}"
                                       step="5000"
                                       ng-change="edit_payment_modal_changer()"
                                       ng-model="show_invoice_data.cash_amount">
                                <input disabled type="text" class="form-control paymentMethod righty iranian-number"
                                       ng-model="show_invoice_data.pos_amount" format>
                                <input ng-change="edit_payment_modal_changer()" ng-model="show_invoice_data.cash_amount"
                                       type="text" class="form-control paymentMethod lefty iranian-number" format>
                            </form>
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade mainModal" id="viewSettledInvoiceModal" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modalHeader">
                <h2 class="modalTitle">فاکتور فروش </h2>
                <a class="mainButton redButton" data-dismiss="modal" href="#" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i>  خروج</span>
                </a>
                <button ng-show="settledInvoicePrintButton"
                        ng-disabled="disable_print_after_save_all_buttons && can_settle_invoice_boolean"
                        ng-click="print_cash()"
                        class="mainButton yellowButton"><i class="fas fa-cash-register"></i> چاپ مشتری
                </button>
                <a ng-show="settledInvoiceEditPaymentButton" class="mainButton greenButton" href=""
                   ng-click="open_modal('editSettledInvoicePayment', 'viewSettledInvoiceModal');">
                    <span aria-hidden="true">تغییر نحوه تسویه</span>
                </a>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <main class="col-sm-12">
                            <table class="invoiceTable">
                                <tbody>
                                <tr>
                                    <td>
                                        <small>شماره فاکتور</small>
                                        <a href=""
                                           class="">{{ show_invoice_data.invoice_sales_id | persianNumber }}</a>
                                    </td>
                                    <td>
                                        <small>میز</small>
                                        <span ng-bind="show_invoice_data.table_name"></span>
                                    </td>
                                    <td>
                                        <small>مهمان</small>
                                        <span ng-bind="show_invoice_data.member_name"></span>
                                    </td>
                                    <td>
                                        <small>تعداد مهمانان</small>
                                        <span ng-bind="show_invoice_data.guest_numbers | persianNumber"></span>
                                    </td>

                                </tr>
                                </tbody>
                            </table>
                            <table class="invoiceTable invoiceItem">
                                <tbody>
                                <tr>
                                    <th class="first"><input type="checkbox"
                                                             aria-label="Checkbox for following text input"></th>
                                    <th class="first">#</th>
                                    <th class="second">عنوان</th>
                                    <th class="third">قیمت واحد</th>
                                    <th class="forth">تعداد</th>
                                    <th class="fifth">قیمت کل</th>
                                    <th class="sixth">توضیحات</th>
                                </tr>
                                <tr ng-repeat="old_item in show_invoice_data.menu_items_old">
                                    <th class="first"><input
                                            type="checkbox"
                                            aria-label="Checkbox for following text input"></th>
                                    <td>{{ $index | persianNumber }}</td>
                                    <td>{{ old_item.name }}</td>
                                    <td>{{ old_item.price | number | persianNumber }}</td>
                                    <td>{{ old_item.nums | persianNumber }}</td>
                                    <td>{{ old_item.total | number | persianNumber }}</td>
                                    <td>{{ old_item.description }}</td>
                                </tr>

                                <tr ng-repeat="old_item in show_invoice_data.shop_items_old">
                                    <th class="first"><input type="checkbox"
                                                             aria-label="Checkbox for following text input"></th>
                                    <td>{{ $index + 1 | persianNumber }}</td>
                                    <td>{{ old_item.name }}</td>
                                    <td>{{ old_item.price | number | persianNumber }}</td>
                                    <td>{{ old_item.nums | persianNumber }}</td>
                                    <td>{{ old_item.total | persianNumber }}</td>
                                    <td>{{ old_item.description }}</td>
                                </tr>

                                <tr ng-repeat="game in show_invoice_data.games">
                                    <th class="first"><input type="checkbox"
                                                             aria-label="Checkbox for following text input"></th>
                                    <td>{{ $index | persianNumber }}</td>
                                    <td>بازی {{ game.numbers | persianNumber }} نفره
                                        ( {{ game.start_time | persianNumber }}
                                        تا {{ game.end_time | persianNumber }} )
                                    </td>
                                    <td>{{ game.numbers * price_per_hour_person | number | persianNumber }}</td>
                                    <td style="direction: ltr">{{ game.points | persianNumber }}</td>
                                    <td>{{ game.total | number | persianNumber }}</td>
                                    <td></td>
                                </tr>


                                </tbody>
                            </table>
                            <table class="invoiceTable invoiceTotal">
                                <tbody>
                                <tr>
                                    <th>اعتبار</th>
                                    <td>
                                        {{ show_invoice_data.total_credit | number | persianNumber }}</td>
                                </tr>
                                <tr>
                                    <th>اعتبار مصرفی</th>
                                    <td>
                                        {{ show_invoice_data.used_credit | number | persianNumber }}</td>
                                </tr>
                                <tr>
                                    <th>انعام</th>
                                    <td>{{ show_invoice_data.tip | number | persianNumber }}</td>
                                </tr>
                                <tr>
                                    <th>تخفیف</th>
                                    <td>{{ show_invoice_data.discount | number | persianNumber }}</td>
                                </tr>
                                <tr>
                                    <th>جمع کل</th>
                                    <td>
                                        {{ show_invoice_data.total_price - show_invoice_data.discount - show_invoice_data.used_credit | number | persianNumber }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </main>
                    </div>
                </div>
            </div>
            <div class="modal-footer">

            </div>
        </div>
    </div>
</div>